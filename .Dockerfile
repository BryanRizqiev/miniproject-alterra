FROM golang:alpine

ENV APP_URL=

ENV DB_USERNAME=
ENV DB_PASSWORD=
ENV DB_HOSTNAME=
ENV DB_PORT=
ENV DB_NAME=
ENV JWT_KEY=

ENV EMAIL_SENDER_NAME=
ENV EMAIL_SMTP_HOST=
ENV EMAIL_SMTP_PORT=
ENV EMAIL_SMTP_EMAIL=
ENV EMAIL_SMTP_PASSWORD=

ENV AWS_ACCESS_KEY_ID=
ENV AWS_SECRET_ACCESS_KEY=
ENV AWS_REGION=
ENV ENDPOINT=

ENV OPENAPI_KEY=


WORKDIR /app

COPY . .

RUN go mod download

RUN go build -o main

EXPOSE 8080

CMD ["./main"]